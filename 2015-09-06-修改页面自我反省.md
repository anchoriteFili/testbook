---
layout: post
#标题
title:  修改页面自我反省
#时间配置
date:   2015-09-06 16:17:12 +0800
#大类配置
categories: 知识
#小类配置
tag: object-c
---

* content
{:toc}

![752372-20150906155208607-341409651.png]({{ site.img_url }}B0271E8594E47C59862EB9F255EB15EB.png)

**总共用了将近一个星期的时间，这个map总算是告一段落。**

> 1. 多张图片上传，这个我使用的是单张接口的循环使用，这个过程。。。刚开始用了将近两天的时间用网上查得多张同时上传方法进行上传，一直不能成功，自己就用了单张循环上传，后来又向郑大神要了一份多张上传方法，结果。。。实际上还是用的单张循环上传，最终确定用单张循环上传。
> 
> 2. 图片位置改变，这个刚开始是交换一次调用一次接口方法，改成点击保存时实现服务器位置的交换，没卡
> 
> 3. 图片多张删除的实现，整体思路：
> 删除接口是根据imageId来进行图片删除的，首先我创建了delImageIDArr，里边存放的是所有要删除的imageId,创建了imageUrlDic,里面存放了从服务器申请下来的imageURL和其对应的坐标，刚开始的时候所有的url都一次性放入了Cell里边，进行然后每次tableview更新就会从服务器申请数据，导致交换后本地数据与服务器数据不一致混乱，
改成了在VC中直接申请图片，传值传图片，图片数据只申请一次。然后，将对应的坐标和图片放入到imageDic中，对六张图片进行赋tag值，然后根据tag值与坐标进行一一对应，整个图片的删除和交换位置都是根据tag值进行确定的，刚开始的时候，都是写的死值，把所有的index都改变，用tag值进行判断，所有的统一标准用tag值，就不会在出现混乱了。每一项都扣出来，以后有用。